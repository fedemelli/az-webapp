<h2>Azure Files</h2>
<p><strong>Azure Files</strong> offre condivisioni file completamente gestite nel cloud, accessibili tramite i
  protocolli standard SMB (Server Message Block) e NFS (Network File System). Pu√≤ sostituire o estendere file server
  on-premises.</p>

<svg viewBox="0 0 600 250" style="width:100%;max-width:600px;margin:20px auto;display:block;">
  <!-- Cloud box -->
  <rect x="200" y="20" width="200" height="100" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" />
  <text x="300" y="50" text-anchor="middle" font-weight="bold" fill="#1e40af" font-size="14">Azure Files</text>
  <text x="300" y="75" text-anchor="middle" fill="#3b82f6" font-size="12">SMB / NFS Share</text>
  <text x="300" y="95" text-anchor="middle" fill="#64748b" font-size="10">*.file.core.windows.net</text>

  <!-- Windows Client -->
  <rect x="30" y="160" width="120" height="70" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="1" />
  <text x="90" y="190" text-anchor="middle" font-weight="bold" fill="#334155" font-size="11">Windows</text>
  <text x="90" y="210" text-anchor="middle" fill="#64748b" font-size="10">SMB 3.x</text>

  <!-- Linux Client -->
  <rect x="170" y="160" width="120" height="70" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="1" />
  <text x="230" y="190" text-anchor="middle" font-weight="bold" fill="#334155" font-size="11">Linux</text>
  <text x="230" y="210" text-anchor="middle" fill="#64748b" font-size="10">SMB / NFS</text>

  <!-- macOS Client -->
  <rect x="310" y="160" width="120" height="70" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="1" />
  <text x="370" y="190" text-anchor="middle" font-weight="bold" fill="#334155" font-size="11">macOS</text>
  <text x="370" y="210" text-anchor="middle" fill="#64748b" font-size="10">SMB 3.x</text>

  <!-- Azure VM -->
  <rect x="450" y="160" width="120" height="70" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="1" />
  <text x="510" y="190" text-anchor="middle" font-weight="bold" fill="#1e40af" font-size="11">Azure VM</text>
  <text x="510" y="210" text-anchor="middle" fill="#3b82f6" font-size="10">Mount diretto</text>

  <!-- Connection lines -->
  <line x1="90" y1="160" x2="250" y2="120" stroke="#94a3b8" stroke-width="1" stroke-dasharray="4" />
  <line x1="230" y1="160" x2="280" y2="120" stroke="#94a3b8" stroke-width="1" stroke-dasharray="4" />
  <line x1="370" y1="160" x2="320" y2="120" stroke="#94a3b8" stroke-width="1" stroke-dasharray="4" />
  <line x1="510" y1="160" x2="350" y2="120" stroke="#3b82f6" stroke-width="2" />
</svg>

<h3>Protocolli Supportati</h3>
<table style="width:100%;border-collapse:collapse;margin:16px 0;">
  <thead>
    <tr style="background:#f1f5f9;">
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Protocollo</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Porta</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Sistemi Operativi</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Note</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>SMB 3.x</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">445</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Windows, Linux, macOS</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Standard e Premium tier</td>
    </tr>
    <tr style="background:#f8fafc;">
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>NFS 4.1</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">2049</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Linux</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Solo Premium tier</td>
    </tr>
    <tr>
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>REST API</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">443</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Tutti</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Accesso programmatico</td>
    </tr>
  </tbody>
</table>

<h3>Tier di Performance</h3>
<table style="width:100%;border-collapse:collapse;margin:16px 0;">
  <thead>
    <tr style="background:#f1f5f9;">
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Tier</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Storage</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">Caso d'Uso</th>
      <th style="padding:12px;text-align:left;border:1px solid #e2e8f0;">NFS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>Premium</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">SSD</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Database, dev/test, latency-sensitive</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Si</td>
    </tr>
    <tr style="background:#f8fafc;">
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>Transaction optimized</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">HDD</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Applicazioni transaction-heavy</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">No</td>
    </tr>
    <tr>
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>Hot</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">HDD</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">File sharing generale, team collaboration</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">No</td>
    </tr>
    <tr style="background:#f8fafc;">
      <td style="padding:12px;border:1px solid #e2e8f0;"><strong>Cool</strong></td>
      <td style="padding:12px;border:1px solid #e2e8f0;">HDD</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">Archivio, backup online</td>
      <td style="padding:12px;border:1px solid #e2e8f0;">No</td>
    </tr>
  </tbody>
</table>

<h3>Montaggio da Windows</h3>
<pre><code># PowerShell - Montare come unit√† Z:
$connectTestResult = Test-NetConnection -ComputerName mystorageaccount.file.core.windows.net -Port 445
if ($connectTestResult.TcpTestSucceeded) {
    cmd.exe /C "net use Z: \\\\mystorageaccount.file.core.windows.net\\myshare /user:Azure\\mystorageaccount &lt;storage-account-key&gt;"
}</code></pre>

<h3>Montaggio da Linux</h3>
<pre><code># Installare cifs-utils
sudo apt-get install cifs-utils

# Creare punto di mount
sudo mkdir /mnt/myshare

# Montare la share SMB
sudo mount -t cifs //mystorageaccount.file.core.windows.net/myshare /mnt/myshare \\
  -o vers=3.0,username=mystorageaccount,password=&lt;key&gt;,serverino</code></pre>

<h3>Limiti e Quote</h3>
<ul>
  <li><strong>Standard</strong>: fino a 100 TiB per share (con large file shares)</li>
  <li><strong>Premium</strong>: fino a 100 TiB per share, IOPS provisionato</li>
  <li>Dimensione massima file singolo: 4 TiB</li>
  <li>Fino a 10.000 connessioni simultanee per share</li>
</ul>

<!-- Callout esame -->
<div
  style="background:linear-gradient(135deg,#dbeafe,#bfdbfe);border-left:4px solid #3b82f6;border-radius:12px;padding:20px;margin-top:24px;">
  <div style="display:flex;align-items:flex-start;gap:12px;">
    <span style="font-size:24px;">üìù</span>
    <div>
      <strong style="color:#1e40af;font-size:15px;">Tips per l'Esame AZ-104</strong>
      <ul style="margin:8px 0 0 0;padding-left:20px;color:#1e3a8a;font-size:14px;">
        <li>Se non riesci a connetterti da casa/ufficio, controlla se la <strong>porta 445</strong> (SMB) √® bloccata dal
          provider/firewall.</li>
        <li><strong>NFS 4.1</strong> √® supportato SOLO su account Premium FileStorage.</li>
        <li>SMB over QUIC (Windows 11 / Server 2022) usa la porta <strong>443</strong> (UDP) e bypassa i blocchi della
          445.</li>
        <li>Azure Files supporta snapshot per backup, ma non sono automatici di default (serve Azure Backup).</li>
      </ul>
    </div>
  </div>
</div>